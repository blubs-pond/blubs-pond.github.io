<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>terminal</title>
        <link rel="stylesheet" href="css/cmd.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
       <div id="terminal-container"></div>
        <input type="text" id="command-input">
        <script type="module">
        import { Terminal, TerminalLib, VirtualOS, CommandHandler } from './js/centralTerminal.js';
        const termDiv = document.getElementById("terminal-container");
        const term = new Terminal("DemoTerminal", termDiv);
        const vOS = new VirtualOS();
        const lib = new TerminalLib(term, vOS);
        const handler = new CommandHandler(vOS);
        handler.registerExecutor("terminal", lib);
        const input = document.getElementByI ("command-input");
        input.addEventListener("keydown", e => {
            if(e.key === "Enter"){
                const cmd = input.value.trim();
                term.print(`$ ${cmd} `);
                handler.execute(cmd, "terminal");
                input.value = "";
            }
        });
        term.print("Welcome! Type 'help' to see commands.");
        </script>
    </body>
</html>
